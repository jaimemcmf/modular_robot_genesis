<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Macro definition -->
  <xacro:macro name="emerge_module" params="name">
    <link name="${name}_connector_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.0385 0.0305 0.0275"/>
        </geometry>
        <material name="orange">
          <color rgba="1 0.4 0 1"/>
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.061 0.055 0.077"/>
        </geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.06"/>
        <inertia ixx="0.00006" iyy="0.00005" izz="0.00007"
                 ixy="0" ixz="0" iyz="0"/>
      </inertial>
    </link>

    <link name="${name}_motor_link">
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.048125 0.038125 0.034375"/>
        </geometry>
        <material name="orange">
          <color rgba="1 0.4 0 1"/>
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
          <box size="0.061 0.055 0.077"/>
        </geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="0.06"/>
        <inertia ixx="0.00006" iyy="0.00005" izz="0.00007"
                 ixy="0" ixz="0" iyz="0"/>
      </inertial>
    </link>

    <joint name="${name}_joint" type="revolute">
      <parent link="${name}_connector_link"/>
      <child link="${name}_motor_link"/>
      <origin xyz="0.03 0 0" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit effort="0.5" velocity="2.0" lower="-0.12" upper="0.12"/>
    </joint>
  </xacro:macro>

</robot>